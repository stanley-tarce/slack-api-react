(this["webpackJsonpslack-api-react"]=this["webpackJsonpslack-api-react"]||[]).push([[0],Array(37).concat([function(e,t,a){},,,,,,,,,function(e,t,a){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},,function(e,t,a){},,,,,,,function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){},function(e,t,a){"use strict";a.r(t);var n=a(1),s=a.n(n),r=a(38),c=a.n(r),i=(a(46),a(2)),o=a.n(i),l=a(41),u=a(7),d=a(6),h=a(10),j=a.n(h),b=a(16),m=a.n(b),O=function(){var e=j.a.CancelToken.source(),t="slackapi.avionschool.com/",a={"Content-Type":"application/x-www-form-urlencoded"},n=function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()({method:"POST",url:"https://".concat(t,"/api/v1/auth"),headers:Object(d.a)({},a),data:m.a.stringify(n)});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),s=function(){var e=Object(u.a)(o.a.mark((function e(n){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j()({method:"post",url:"https://".concat(t,"/api/v1/auth/sign_in"),headers:Object(d.a)({},a),data:m.a.stringify(n)}));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),r=function(){var e=Object(u.a)(o.a.mark((function e(a){var n,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a.expiry,s=a.uid,r=a.accessToken,c=a.client,e.next=3,j()({method:"get",url:"https://".concat(t,"/api/v1/channels"),headers:{"access-token":r,client:c,expiry:n,uid:s}});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),c=function(){var e=Object(u.a)(o.a.mark((function e(a,n){var s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.expiry,r=a.uid,c=a.accessToken,i=a.client,e.prev=1,e.next=4,j()({method:"get",url:"https://".concat(t,"/api/v1/channels/").concat(n),headers:{"access-token":c,client:i,expiry:s,uid:r}});case 4:return l=e.sent,e.abrupt("return",l);case 8:return e.prev=8,e.t0=e.catch(1),e.abrupt("return",console.log(e.t0));case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),i=function(){var e=Object(u.a)(o.a.mark((function e(a,n){var s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.expiry,r=a.uid,c=a.accessToken,i=a.client,e.prev=1,e.next=4,j()({method:"post",url:"https://".concat(t,"/api/v1/channel/add_member"),headers:{"access-token":c,client:i,expiry:s,uid:r},data:m.a.stringify(n)});case 4:return l=e.sent,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),l=function(){var e=Object(u.a)(o.a.mark((function e(a,n){var s,r,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.expiry,r=a.uid,c=a.accessToken,i=a.client,console.log(n),e.next=4,j()({method:"post",url:"https://".concat(t,"/api/v1/channels"),headers:{"access-token":c,client:i,expiry:s,uid:r,"Allow-Access-Control-Poliy":"http://206.189.91.54/api/v1/channels"},data:n});case 4:return e.abrupt("return",e.sent);case 5:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),h=function(){var a=Object(u.a)(o.a.mark((function a(n,s){var r,c,i,l,u;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.expiry,c=n.uid,i=n.accessToken,l=n.client,a.prev=1,a.next=4,j()({method:"get",url:"https://".concat(t,"/api/v1/messages?receiver_id=").concat(s,"&receiver_class=Channel"),headers:{"access-token":i,client:l,expiry:r,uid:c},cancelToken:e.token});case 4:return u=a.sent,a.abrupt("return",u);case 8:return a.prev=8,a.t0=a.catch(1),j.a.isCancel(a.t0)&&console.log("caught cancel"),a.abrupt("return",console.log(a.t0));case 12:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e,t){return a.apply(this,arguments)}}(),b=function(){var a=Object(u.a)(o.a.mark((function a(n,s){var r,c,i,l,u;return o.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return r=n.expiry,c=n.uid,i=n.accessToken,l=n.client,a.prev=1,a.next=4,j()({method:"get",url:"https://".concat(t,"/api/v1/messages?receiver_id=").concat(s,"&receiver_class=User"),headers:{"access-token":i,client:l,expiry:r,uid:c},cancelToken:e.token});case 4:return u=a.sent,a.abrupt("return",u);case 8:return a.prev=8,a.t0=a.catch(1),a.abrupt("return",console.log(a.t0));case 11:case"end":return a.stop()}}),a,null,[[1,8]])})));return function(e,t){return a.apply(this,arguments)}}(),O=function(){var e=Object(u.a)(o.a.mark((function e(a,n){var s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.expiry,r=a.uid,c=a.accessToken,i=a.client,e.prev=1,e.next=4,j()({method:"post",url:"https://".concat(t,"/api/v1/messages"),headers:{"access-token":c,client:i,expiry:s,uid:r},data:m.a.stringify(n)});case 4:return l=e.sent,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}(),p=function(){var e=Object(u.a)(o.a.mark((function e(a,n){var s,r,c,i,l;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.expiry,r=a.uid,c=a.accessToken,i=a.client,e.prev=1,e.next=4,j()({method:"post",url:"https://".concat(t,"/api/v1/messages"),headers:{"access-token":c,client:i,expiry:s,uid:r},data:m.a.stringify(n)});case 4:return l=e.sent,e.abrupt("return",l);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t,a){return e.apply(this,arguments)}}();return{postUserRegistration:n,postCreateUserSession:s,getAllUsersMain:function(e){var a=e.expiry,n=e.uid,s=e.accessToken,r=e.client;return console.log("access-token: ".concat(s)),console.log("uid: ".concat(n)),console.log("expiry: ".concat(a)),console.log("client: ".concat(r)),console.log("All are string!"),j()({method:"get",url:"https://".concat(t,"/api/v1/users"),headers:{"access-token":s,client:r,expiry:a,uid:n}}).catch((function(e){return console.log(e)}))},getRetrieveAllChannels:r,getRetrieveChannel:c,postInviteUserToChannel:i,postCreateChannelWithUsers:l,getRetrieveAllMessagesInsideChannel:h,getRetrieveAllMessagesFromUser:b,postCreateMessageInAChannel:O,postCreateDirectMessagetoUser:p}},p=(a(78),a(5)),f=a(0),v=["expiry","uid","client"];var g=function(e){e.header;var t=e.setHeader,a=e.setOutcome,s=e.setFeedback,r=e.setToast,c=(e.toast,Object(p.f)()),i=O().postCreateUserSession,d=Object(n.useRef)(),h=Object(n.useRef)(),j=function(){var e=Object(u.a)(o.a.mark((function e(n){var u;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),u={email:d.current.value,password:h.current.value},i(u).then((function(e){var n=e.headers,i=n.expiry,o=n.uid,u=n.client,d=Object(l.a)(n,v)["access-token"];return t({expiry:i,uid:o,accessToken:d,client:u}),a("success"),r(!0),setTimeout((function(){return r(!1)}),3e3),s(["Login Successful"]),c.push("/main/home")})).catch((function(e){console.log(e.response);var t=e.response.data.errors;console.log(e.response),a("error"),r(!0),setTimeout((function(){return r(!1)}),3e3),s(t)}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"LoginMain",children:[Object(f.jsx)("div",{className:"SVG-Photo-Login"}),Object(f.jsx)("div",{className:"Main-Login",children:Object(f.jsxs)("div",{className:"Wrapper-Main",children:[Object(f.jsx)("h1",{className:"Header",children:"Sign In to Slack API"}),Object(f.jsxs)("div",{className:"Google-Button",children:[Object(f.jsx)("div",{className:"Google-Img"}),Object(f.jsx)("p",{children:"Sign in With Google"})]}),Object(f.jsxs)("div",{className:"or-Wrapper",children:[Object(f.jsx)("div",{}),Object(f.jsx)("p",{className:"or",children:"Or"}),Object(f.jsx)("div",{})]}),Object(f.jsxs)("form",{"data-hello":"hello",onSubmit:function(e){return j(e)},children:[Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{type:"email",ref:d,placeholder:"Enter Email Here",required:!0})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",{type:"password",ref:h,placeholder:"Enter Password Here",required:!0})]}),Object(f.jsx)("button",{className:"Login-Submit","data-hello":"hello",disabled:null,onSubmit:function(e){return j(e)},children:"Sign In"})]})]})})]}),Object(f.jsx)("div",{className:"ForwardSignUp",children:Object(f.jsxs)("p",{children:["Not a Member? ",Object(f.jsx)("span",{onClick:function(){return c.push("/signup")},children:"Sign Up Now"})]})})]})},x=a(4),C=a(3);a(85),a(86);var M=function(e){var t,a=e.channelId,s=e.setCreateMessageContainer,r=e.owner,c=e.name,i=e.setChannelData,l=e.channelData,h=e.header,j=e.setMode,b=e.redirectToChannel,m=O().getRetrieveChannel,v=Object(n.useRef)(null),g=Object(p.f)(),M=Object(n.useState)("null"),N=Object(C.a)(M,2),L=N[0],S=N[1];t=v,Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&S("null")};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]);var w=function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n,r,c,u,O,p;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(h,t.target.dataset.channelid);case 2:a=e.sent,n=a.data.data,r=n.id,c=n.name,u=n.owner_id,O=n.channel_members,p=[],O.map((function(e){return p=[].concat(Object(x.a)(p),[{user_id:e.user_id}])})),console.log(a),S("focus"),i(Object(d.a)(Object(d.a)({},l),{},{channelId:r,name:c,owner:u,channel_members:p})),!0===b&&(s([]),j("Channel"),g.push("/main/messaging/channel/".concat(t.target.dataset.channelid)));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)("div",{ref:v,onClick:function(e){return w(e)},"data-owner":r,"data-channelid":a,"data-name":c,"data-names":"hello",className:"channelCard ".concat(L),children:[Object(f.jsx)("div",{className:"picture"}),Object(f.jsx)("p",{className:"name",children:c})]})};a(87);var N=function(e){var t,a=e.id,s=e.setCreateMessageContainer,r=e.uid,c=e.userData,i=e.setUserData,o=e.setMode,l=e.index,u=e.setUserMessageList,h=e.userMessageList,j=r.split("@")[0],b=Object(p.f)(),m=Object(n.useRef)(null),O=Object(n.useState)("null"),v=Object(C.a)(O,2),g=v[0],M=v[1];return t=m,Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&M("null")};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]),Object(n.useEffect)((function(){console.log("MessageCard Changed")}),[h]),Object(f.jsxs)("div",{ref:m,className:"messageCardContainer ".concat(g),children:[Object(f.jsx)("div",{className:"messageCard",onClick:function(e){return t=e,M("focus"),t.preventDefault(),i(Object(d.a)(Object(d.a)({},c),{},{id:t.target.dataset.id,uid:t.target.dataset.uid})),s([]),o("User"),void b.push("/main/messaging/User/".concat(t.target.dataset.id));var t},"data-uid":r,"data-id":a,children:Object(f.jsxs)("div",{className:"messageWrapper",children:[Object(f.jsx)("div",{}),Object(f.jsx)("p",{children:j})]})}),Object(f.jsx)("div",{className:"Remove","data-index1":l,onClick:function(e){return function(e){console.log(e),console.log(e.target.dataset.index1);var t=Object(x.a)(h);t.splice(e.target.dataset.index1,1),u(t),0===t.length?b.push("/main/home"):(i(Object(d.a)(Object(d.a)({},c),{},{id:t[t.length-1].id,uid:t[t.length-1].uid})),o("User"),b.push("/main/messaging/User/".concat(t[t.length-1].id)))}(e)}})]})};var L=function(e){var t=e.channelList,a=e.setChannelData,s=e.channelData,r=e.header,c=e.setMode,i=e.redirectToChannel,o=e.userMessageList,l=e.userData,u=e.setUserData,d=e.setCreateMessageContainer,h=e.setUserMessageList,j=e.openNewChannelModal,b=e.setOpenNewChannelModal,m=e.setOpenMessageModal,O=Object(n.useState)(!1),v=Object(C.a)(O,2),g=v[0],x=v[1],L=Object(n.useState)(!1),S=Object(C.a)(L,2),w=S[0],D=S[1],U=Object(p.f)();return Object(f.jsxs)("div",{className:"Main-Sidebar",children:[Object(f.jsx)("div",{className:"SideBar-Title-Name",onClick:function(e){return U.push("/main/home")},children:"Avion School"}),Object(f.jsxs)("div",{className:"SideBar-Channel-Container",children:[Object(f.jsxs)("div",{className:"SideBar-Channel-Title",children:[Object(f.jsx)("div",{onClick:function(e){return x(!g)},className:g?"DropDownChannel-Closed ":"DropDownChannel"}),Object(f.jsx)("p",{children:"CHANNEL"})]}),Object(f.jsx)("div",{className:g?"SideBar-Channel-Lists-Closed":"SideBar-Channel-Lists",children:0!==t.length&&t.map((function(e,t){return Object(f.jsx)(M,{channelData:s,setMode:c,setChannelData:a,name:e.name,channelId:e.channelId,owner:e.owner,header:r,redirectToChannel:i,setCreateMessageContainer:d},t)}))}),Object(f.jsxs)("div",{className:"SideBar-Channel-CreateChannel",onClick:function(){b(!j)},children:[Object(f.jsx)("div",{}),Object(f.jsx)("p",{children:"Add Channels "})]})]}),Object(f.jsxs)("div",{className:"SideBar-Message-Container",children:[Object(f.jsxs)("div",{className:"SideBar-Message-Title",children:[Object(f.jsx)("div",{onClick:function(e){return D(!w)},className:w?"DropDownMessage-Closed ":"DropDownMessage"}),Object(f.jsx)("p",{children:"MESSAGE"})]}),Object(f.jsx)("div",{className:w?"SideBar-Message-Lists-Closed":"SideBar-Message-Lists",children:o&&0!==o.length&&o.map((function(e,t){return Object(f.jsx)(N,{index:t,id:e.id,uid:e.uid,setUserData:u,userData:l,header:r,setMode:c,setCreateMessageContainer:d,userMessageList:o,setUserMessageList:h},t)}))}),Object(f.jsxs)("div",{onClick:function(){return m(!0)},className:"SideBar-Message-CreateMessage",children:[Object(f.jsx)("div",{}),Object(f.jsx)("p",{children:"Send Message "})]})]})]})};a(37);var S=function(e){var t=e.setHeaderBarSearch,a=e.setOpenLogoutModal,n=e.openLogoutModal,s=e.headerBarSearch;return Object(f.jsxs)("div",{className:"Main-Nav-Bar",children:[Object(f.jsxs)("div",{className:"Search-Container",children:[Object(f.jsx)("input",{onChange:function(e){return t(e.target.value)},type:"search",placeholder:"Search Members...",className:"search-button",name:"search",value:s}),Object(f.jsx)("i",{className:"fa fa-search searchIcon navBarSearch"})]}),Object(f.jsx)("div",{className:"user-image",onClick:function(){console.log("logout clicked"),a(!n)}})]})};a(88),a(89),a(90),a(91);var w=function(e){var t=e.body,a=e.uid,n=(e.id,e.created),s=a.split("@")[0],r=(n.split("T")[0],n.split("T")[1].split(".")[0].slice(0,5));return(new Date).getDate(),(new Date).getMonth(),(new Date).getFullYear(),Object(f.jsxs)("div",{className:"Message-Box",children:[Object(f.jsxs)("div",{className:"Avatar-and-Image",children:[Object(f.jsx)("p",{className:"Time-Stamp",children:"".concat(function(e){var t=Number(e.slice(0,2))+8,a=Number(e.slice(3)),n=a<10?"0".concat(a):"".concat(a),s=t<=12?t<10?"0".concat(t):"".concat(t):"".concat(t-12);return t<12?"".concat(s,":").concat(n," AM"):"".concat(s,":").concat(n," PM")}(r))}),Object(f.jsx)("p",{className:"User-Name",children:s}),Object(f.jsx)("div",{className:"Image-Avatar"})]}),Object(f.jsx)("p",{className:"Message-Body",children:t})]})};var D=function(e){var t=e.date,a=e.data,n=(new Date).getDate(),s=(new Date).getMonth()+1,r=(new Date).getFullYear();return Object(f.jsxs)("div",{className:"message-holder-container",children:[Object(f.jsxs)("div",{className:"date-holder-container",children:[Object(f.jsx)("div",{className:"line"}),Object(f.jsx)("div",{className:"date-holder",children:function(e,t){return e===t?(console.log("Same Date!"),"Today"):e}(t,function(e,t,a){var n=e<=9?"0".concat(e):e,s=t<=9?"0".concat(t):t;return"".concat(a,"-").concat(s,"-").concat(n)}(n,s,r))}),Object(f.jsx)("div",{className:"line"})]}),Object(f.jsx)("div",{className:"messages-holder-container",children:a&&0!==a.length&&a.map((function(e,t){var a=e.body,n=e.created_at,s=e.sender,r=s.id,c=s.uid;return Object(f.jsx)(w,{body:a,uid:c,id:r,created:n},t)}))})]})};var U=function(e){var t=e.mode,a=e.createMessageContainer,s=e.setCreateMessageContainer,r=e.channelData,c=e.header,i=e.userData,l=O(),h=l.getRetrieveAllMessagesInsideChannel,j=l.getRetrieveAllMessagesFromUser;Object(n.useEffect)((function(){if("Channel"===t&&(Object.values(i).every((function(e){return""!==e}))||Object.values(r).every((function(e){return""!==e})))){var e=function(){var e=Object(u.a)(o.a.mark((function e(){var t,a;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(c,r.channelId);case 2:return t=e.sent,a=Object(d.a)({},t),console.log(b),setTimeout((function(){return s(a.data)}),7e3),e.abrupt("return",(function(){return clearTimeout(setTimeout((function(){return s(t.data)}),7e3))}));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}else if("User"===t&&(Object.values(i).every((function(e){return""!==e}))||Object.values(r).every((function(e){return""!==e})))){var a=function(){var e=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j(c,i.id);case 2:return t=e.sent,setTimeout((function(){return s(t.data)}),7e3),e.abrupt("return",(function(){return clearTimeout(setTimeout((function(){return s(t.data)}),7e3))}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();a()}}));var b=a.data,m=function(e){var t=[],a=[],n=[];if(console.log(e),e)return e.forEach((function(e){var a=e.created_at.split("T")[0];t=[].concat(Object(x.a)(t),[a])})),Object(x.a)(new Set(t)).forEach((function(t){n=[],e.forEach((function(e){e.created_at.split("T")[0]===t?n=[].concat(Object(x.a)(n),[e]):console.log("No Match")}));var s={date:t,data:n};a=[].concat(Object(x.a)(a),[s])})),a}(b);return Object(f.jsx)("div",{className:"Message-Container",children:m&&0!==m.length&&m.map((function(e,t){var a=e.date,n=e.data;return Object(f.jsx)(D,{date:a,data:n,index:t},t)}))})},k=(a(92),a.p+"static/media/UserAvatar.abf9bb2d.svg");var y=function(e){var t=e.channelData,a=e.setOpenChannelListMembers,n=t.channel_members;return Object(f.jsxs)("div",{className:"main-header",children:[Object(f.jsxs)("div",{className:"label",children:[Object(f.jsx)("div",{className:"avatar"}),Object(f.jsx)("p",{children:t.name})]}),Object(f.jsxs)("div",{onClick:function(){return a(!0)},className:"channel-list",children:[Object(f.jsxs)("div",{className:"avatar-count",children:[1===n.length&&n.map((function(){return Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image1"})})),2===n.length&&Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image2"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image2"})]}),3===n.length&&Object(f.jsxs)(f.Fragment,{children:[" ",Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image3"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image3"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image3"})]}),n.length>=4&&Object(f.jsxs)(f.Fragment,{children:["  ",Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image4"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image4"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image4"}),Object(f.jsx)("img",{src:k,alt:"user",className:"avatar-image4"})]})]}),Object(f.jsx)("p",{className:"list",children:n.length})]})]})};a(93);var A=function(e){var t=e.userData.uid.split("@")[0];return Object(f.jsx)("div",{className:"main-header-user1",children:Object(f.jsx)("div",{className:"label-user1",children:Object(f.jsx)("p",{children:t})})})},T=a.p+"static/media/send_icon.de0ad1a0.svg";a.p,a.p,a.p,a.p,a.p,a.p,a.p,a(94);var R=function(e){e.setMessage,e.message;var t=e.header,a=e.channelData,s=e.mode,r=e.userData,c=O(),i=c.postCreateMessageInAChannel,o=c.postCreateDirectMessagetoUser,l=function(e){if(e.preventDefault(),"Channel"===s){var n={receiver_id:a.channelId,receiver_class:a.receiver_class,body:u.current.value};i(t,n)}else if("User"===s){var c={receiver_id:r.id,receiver_class:r.receiver_class,body:u.current.value};o(t,c)}u.current.value=""},u=Object(n.useRef)();return Object(f.jsx)("div",{className:"Message-Input",children:Object(f.jsxs)("form",{onSubmit:function(e){return l(e)},className:"Message-Input-Form",children:[Object(f.jsx)("input",{ref:u,className:"Type-Message",type:"text",placeholder:"Write a Message"}),Object(f.jsx)("button",{onClick:function(e){return l(e)},className:"Send-Button",type:"submit",children:Object(f.jsx)("img",{src:T,alt:"send logo"})})]})})};var E=function(e){var t=e.channelData,a=e.mode,n=e.createMessageContainer,s=e.setMode,r=e.setCreateMessageContainer,c=e.header,i=e.message,o=e.setMessage,l=e.userData,u=e.setOpenChannelListMembers;return Object(f.jsxs)("div",{className:"main-body",children:[Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{path:"/main/messaging/channel/:channelID",children:Object(f.jsx)(y,{channelData:t,setOpenChannelListMembers:u})}),Object(f.jsx)(p.a,{path:"/main/messaging/user/:id",children:Object(f.jsx)(A,{userData:l})})]}),Object(f.jsx)(U,{mode:a,createMessageContainer:n,setMode:s,channelData:t,header:c,setCreateMessageContainer:r,userData:l}),Object(f.jsx)(R,{mode:a,channelData:t,header:c,message:i,userData:l,setMessage:o})]})};a(95),a(96);var B=function(e){var t=e.id,a=e.uid,n=e.setOpenUserListModal,s=e.setHeaderBarSearch,r=e.setOpenUserDataModal,c=e.setUserDetails,i=e.userDetails,o=e.setOpenChannelListMembers,l=e.setChannelListSearch,u=a.split("@")[0];return Object(f.jsxs)("div",{"data-uid":a,"data-id":t,className:"channel-list-card",onClick:function(e){return function(e){e.preventDefault(),c(Object(d.a)(Object(d.a)({},i),{},{name:u,uid:e.target.dataset.uid,id:e.target.dataset.id})),r(!0),n(!1),s(""),o(!1),l("")}(e)},children:[Object(f.jsx)("div",{className:"avatar"}),Object(f.jsx)("p",{className:"user",children:u})]})};a(97);var F=function(e){var t=e.userList,a=e.headerBarSearch,n=e.setOpenUserListModal,s=e.setHeaderBarSearch,r=e.setOpenUserDataModal,c=e.setUserDetails,i=e.userDetails,o=e.setOpenChannelListMembers,l=e.setChannelListSearch;return Object(f.jsx)("div",{className:"boxers",children:0!==t.length&&t.filter((function(e){return e.uid.toLowerCase().includes(a.toLowerCase())})).map((function(e){return Object(f.jsx)(B,{id:e.id,uid:e.uid,setOpenUserDataModal:r,setHeaderBarSearch:s,setOpenUserListModal:n,userDetails:i,setUserDetails:c,setOpenChannelListMembers:o,setChannelListSearch:l},e.id)}))})};a(98);var I=function(e){var t=e.refModalData,a=e.userDetails,n=e.setOpenUserDataModal,s=e.setOpenChannelListModal,r=e.setRedirectToChannel,c=e.setUserData,i=e.setMode,o=e.userData,l=e.userMessageList,u=e.setUserMessageList,h=Object(p.f)(),j=a.name,b=a.id,m=a.uid;return Object(f.jsx)("div",{className:"userListModalBackground",children:Object(f.jsxs)("div",{className:"userListModal",ref:t,children:[Object(f.jsx)("div",{className:"Avatar"}),Object(f.jsxs)("p",{className:"id",children:[Object(f.jsx)("b",{children:"ID: "}),b]}),Object(f.jsxs)("p",{className:"uid",children:[Object(f.jsx)("b",{children:"Name: "}),j]}),Object(f.jsxs)("div",{className:"buttonContainer",children:[Object(f.jsx)("button",{onClick:function(e){return s(!0),n(!1),void r(!1)},className:"inviteChannel",children:"Invite to Channel"}),Object(f.jsx)("button",{onClick:function(e){return function(e){return e.preventDefault(),c(Object(d.a)(Object(d.a)({},o),{},{id:b,uid:m,receiver_class:"User"})),i("User"),n(!1),u([].concat(Object(x.a)(l),[{id:b,uid:m}])),h.push("/main/messaging/User/".concat(b))}(e)},className:"sendMessage",children:"Send Message"})]})]})})};a(99);var _=function(e){var t=e.channelList,a=e.setChannelData,n=e.userDetails,s=e.channelData,r=e.header,c=e.setOpenChannelListModal,i=e.refChannelModalSelectionData,o=e.setRedirectToChannel,l=e.setToast,u=e.setOutcome,d=e.setFeedback,h=Object(p.f)(),j=s.channelId,b=n.id,m=O().postInviteUserToChannel;return Object(f.jsx)("div",{className:"inviteChannelModalBackground",children:Object(f.jsxs)("div",{className:"inviteChannelContainer",ref:i,children:[Object(f.jsx)("p",{children:"Select a Channel"}),Object(f.jsx)("div",{className:"channelContainer",children:0!==t.length&&t.map((function(e,t){return Object(f.jsx)(M,{channelData:s,setChannelData:a,name:e.name,channelId:e.channelId,owner:e.owner,header:r},t)}))}),Object(f.jsx)("button",{onClick:function(e){return function(e){e.preventDefault();var t={id:j,member_id:b};console.log(t),m(r,t).then((function(e){var t;return console.log(e),e.data.hasOwnProperty("errors")?(l(!0),u("error"),d(null===e||void 0===e||null===(t=e.data)||void 0===t?void 0:t.errors),setTimeout((function(){return l(!1)}),3e3),h.push("/main/home")):(l(!0),u("success"),d(["Invite user to a channel is successful"]),setTimeout((function(){return l(!1)}),3e3),c(!1),o(!0),h.push("/main/home"))})),c(!1),o(!0)}(e)},children:"Send Invite"})]})})},H=(a(100),a.p+"static/media/front4.fbcd2dd9.png");var P=function(e){var t=e.header.uid.split("@")[0];return Object(f.jsx)("div",{className:"front-display",children:Object(f.jsxs)("div",{className:"main-display",children:[Object(f.jsx)("div",{className:"cover-photo",children:Object(f.jsx)("img",{src:H,alt:"Coverphoto"})}),Object(f.jsxs)("div",{className:"welcome-message",children:[Object(f.jsxs)("h1",{className:"user-greeting",children:["Hi, ",t,"!"]}),Object(f.jsx)("h3",{className:"message-greeting",children:"You\u2019re here! The day just got better. This is Slack, the messaging app for teams at work. Let\u2019s get you started. "})]})]})})},G=(a(101),"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAx0lEQVRIie2U0QqCQBBFj31gW6H4UN9eUGSF/YGBPbSCyK7MjEpEe8AnZ+7ZXWeFROKfKIAncAU2ir4tcANqINdKM9/Y+qcBSkFf6Wu7vlorBnj0AiTyobQF7hbxLhAUk4ekjc8wkQcCX8ChV1NEavZWqUS+mLQjdpTSTzGJ0M4X26lUrpaulOLM+G4SoUEam/ZZ+MpwjV0ZyT2fXdoxu9wFArW/TGcRX4TSMfnZIq4U0pi8sogdnxUf0R2ZA06+d20RJxK/yRsz0J/5iLMyRAAAAABJRU5ErkJggg==");a(102);var W=function(e){var t=e.index,a=e.uid,n=e.setOpenNewChannelLists,s=e.openNewChannelLists,r=a.split("@")[0];return Object(f.jsxs)("div",{className:"channelcard",children:[Object(f.jsx)("img",{className:"closebutton","data-index":t,src:G,onClick:function(e){return function(e){e.preventDefault();var t=Object(x.a)(s);console.log(e.target.dataset.index),t.splice(e.target.dataset.index,1),n(t)}(e)}}),Object(f.jsx)("p",{className:"add-name",children:r})]})};a(103);var q=function(e){var t=e.id,a=e.uid,n=e.openNewChannelLists,s=e.setOpenNewChannelLists,r=e.setNewChannelListSearch,c=e.setFeedback,i=e.setToast,o=e.setOutcome,l=a.split("@")[0];return Object(f.jsx)("div",{onClick:function(e){return function(e){e.preventDefault(),console.log(e.target.dataset.id),console.log(e.target.dataset.uid);var t=Object(x.a)(n);e.preventDefault();var l=0;0!==t.length&&t.forEach((function(t){t.id===e.target.dataset.id&&t.uid===e.target.dataset.uid&&(l+=1)})),0===l?(s([].concat(Object(x.a)(n),[{id:e.target.dataset.id,uid:a}])),r("")):(r(""),i(!0),c(["Duplicate entry found"]),setTimeout((function(){return i(!1)}),3e3),o("error"))}(e)},"data-id":t,"data-uid":a,className:"channel-user-container",children:Object(f.jsx)("p",{children:l})})},Z=function(e){var t,a=e.setOpenNewChannelModal,s=e.header,r=e.openNewChannelLists,c=e.setOpenNewChannelLists,i=e.userList,l=e.newChannelListSearch,d=e.setNewChannelListSearch,h=e.setToast,j=e.setFeedback,b=e.setOutcome,m=e.setChannelList,p=O(),v=p.postCreateChannelWithUsers,g=p.getRetrieveAllChannels,C=Object(n.useRef)(),M=Object(n.useRef)(null);t=M,Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&a(!1)};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]);var N=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,i;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.preventDefault(),n=Object(x.a)(r),c=[],n.forEach((function(e){c=[].concat(Object(x.a)(c),[e.id])})),i={name:C.current.value,user_ids:c},console.log(i),v(s,i).then((function(e){e.data.hasOwnProperty("errors")?(C.current.value="",h(!0),b("error"),j(e.data.errors),setTimeout((function(){return h(!1)}),3e3),a(!1)):(h(!0),b("success"),j(["Create channel successful!"]),setTimeout((function(){return h(!1)}),3e3),a(!1),g(s).then((function(e){console.log(e);var t=[];e&&0!==(null===e||void 0===e?void 0:e.data.data.length)&&(e.data.data.map((function(e){return t=[].concat(Object(x.a)(t),[{channelId:e.id,owner:e.owner_id,name:e.name,receiver_class:"Class"}])})),t.sort((function(e,t){return e.id-t.id||e.name.localeCompare(t.name)})),m(t))})))}));case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:"newchannel-bg",children:Object(f.jsxs)("div",{ref:M,className:"newchannel-cont",children:[Object(f.jsxs)("div",{className:"newchannel-header",children:[Object(f.jsx)("h2",{children:"Create New Channel"}),Object(f.jsx)("img",{onClick:function(e){return e.preventDefault(),void a(!1)},src:G})]}),Object(f.jsx)("input",{type:"text",placeholder:"Channel Name",className:"channelName",ref:C}),Object(f.jsx)("input",{type:"text",placeholder:"Search users...",className:"newchannel-user-search",value:l,onChange:function(e){return d(e.target.value)}}),Object(f.jsx)("div",{className:"user-containers",style:{display:0!==l.length?"block":"none"},children:0!==l.length&&i.filter((function(e){return e.uid.toLowerCase().includes(l.toLowerCase())})).map((function(e,t){return Object(f.jsx)(q,{id:e.id,uid:e.uid,openNewChannelLists:r,setOpenNewChannelLists:c,setNewChannelListSearch:d,setFeedback:j,setOutcome:b,setToast:h},t)}))}),Object(f.jsx)("div",{className:"inv-mems",children:0!==r.length&&r.map((function(e,t){return Object(f.jsx)(W,{uid:e.uid,index:t,setOpenNewChannelLists:c,openNewChannelLists:r},t)}))}),Object(f.jsx)("button",{type:"submit",className:"newchannel-submit",onClick:N,children:"Create Channel"})]})})};var J=function(){var e=Object(n.useState)({expiry:"",uid:"",accessToken:"",client:""}),t=Object(C.a)(e,2),a=t[0],s=t[1],r=Object(n.useState)([]),c=Object(C.a)(r,2),i=c[0],o=c[1],l=Object(n.useState)([]),u=Object(C.a)(l,2),d=u[0],h=u[1],j=Object(n.useState)([]),b=Object(C.a)(j,2),m=b[0],O=b[1],p=Object(n.useState)(""),f=Object(C.a)(p,2),v=f[0],g=f[1],x=Object(n.useState)({name:"",id:"",uid:"",receiver_class:"User"}),M=Object(C.a)(x,2),N=M[0],L=M[1],S=Object(n.useState)({channelId:"",name:"",owner:"",channel_members:"",receiver_class:"Channel"}),w=Object(C.a)(S,2),D=w[0],U=w[1],k=Object(n.useState)(!1),y=Object(C.a)(k,2),A=y[0],T=y[1],R=Object(n.useState)(!1),E=Object(C.a)(R,2),B=E[0],F=E[1],I=Object(n.useState)(!1),_=Object(C.a)(I,2),H=_[0],P=_[1],G=Object(n.useState)(!1),W=Object(C.a)(G,2),q=W[0],Z=W[1],J=Object(n.useState)({}),K=Object(C.a)(J,2),Q=K[0],V=K[1],X=Object(n.useState)(""),Y=Object(C.a)(X,2),z=Y[0],$=Y[1],ee=Object(n.useState)(""),te=Object(C.a)(ee,2),ae=te[0],ne=te[1],se=Object(n.useState)(!0),re=Object(C.a)(se,2),ce=re[0],ie=re[1],oe=Object(n.useState)({id:"",uid:"",receiver_class:"User"}),le=Object(C.a)(oe,2),ue=le[0],de=le[1],he=Object(n.useState)(!1),je=Object(C.a)(he,2),be=je[0],me=je[1],Oe=Object(n.useState)([]),pe=Object(C.a)(Oe,2),fe=pe[0],ve=pe[1],ge=Object(n.useState)(""),xe=Object(C.a)(ge,2),Ce=xe[0],Me=xe[1],Ne=Object(n.useState)(!1),Le=Object(C.a)(Ne,2),Se=Le[0],we=Le[1],De=Object(n.useState)([]),Ue=Object(C.a)(De,2),ke=Ue[0],ye=Ue[1],Ae=Object(n.useState)(""),Te=Object(C.a)(Ae,2),Re=Te[0],Ee=Te[1],Be=Object(n.useState)(!1),Fe=Object(C.a)(Be,2),Ie=Fe[0],_e=Fe[1],He=Object(n.useState)(""),Pe=Object(C.a)(He,2),Ge=Pe[0],We=Pe[1],qe=Object(n.useState)(!1),Ze=Object(C.a)(qe,2),Je=Ze[0],Ke=Ze[1],Qe=Object(n.useState)(""),Ve=Object(C.a)(Qe,2),Xe=Ve[0],Ye=Ve[1],ze=Object(n.useState)([]),$e=Object(C.a)(ze,2);return{header:a,userList:i,channelList:d,userMessageList:m,openUserListModal:A,headerBarSearch:v,openUserDataModal:B,openChannelListModal:H,openLogoutModal:q,userDetails:N,channelData:D,userData:ue,mode:z,createMessageContainer:Q,message:ae,redirectToChannel:ce,newChannelListSearch:Ce,openNewChannelModal:be,openNewChannelLists:fe,toast:Se,feedback:ke,outcome:Re,openChannelListMembers:Ie,channelListSearch:Ge,openMessageModal:Je,messageSearchResult:Xe,userContainer:$e[0],setHeader:s,setUserList:o,setChannelList:h,setOpenUserListModal:T,setHeaderBarSearch:g,setOpenUserDataModal:F,setOpenChannelListModal:P,setOpenLogoutModal:Z,setUserDetails:L,setChannelData:U,setCreateMessageContainer:V,setMode:$,setMessage:ne,setRedirectToChannel:ie,setUserMessageList:O,setUserData:de,setOpenNewChannelModal:me,setOpenNewChannelLists:ve,setNewChannelListSearch:Me,setToast:we,setFeedback:ye,setOutcome:Ee,setOpenChannelListMembers:_e,setChannelListSearch:We,setOpenMessageModal:Ke,setMessageSearchResult:Ye,setUserContainer:$e[1]}},K=(a(104),a.p+"static/media/usericon.db0ec890.svg"),Q=function(e){e.openLogoutModal;var t=e.setOpenLogoutModal,a=e.header,n=e.setHeader,s=a.uid,r=s.split("@")[0],c=Object(p.f)();return Object(f.jsx)("div",{className:"logoutmodal",children:Object(f.jsxs)("div",{className:"logoutCard",children:[Object(f.jsx)("div",{className:"logout-close-container",children:Object(f.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAABmJLR0QA/wD/AP+gvaeTAAAAx0lEQVRIie2U0QqCQBBFj31gW6H4UN9eUGSF/YGBPbSCyK7MjEpEe8AnZ+7ZXWeFROKfKIAncAU2ir4tcANqINdKM9/Y+qcBSkFf6Wu7vlorBnj0AiTyobQF7hbxLhAUk4ekjc8wkQcCX8ChV1NEavZWqUS+mLQjdpTSTzGJ0M4X26lUrpaulOLM+G4SoUEam/ZZ+MpwjV0ZyT2fXdoxu9wFArW/TGcRX4TSMfnZIq4U0pi8sogdnxUf0R2ZA06+d20RJxK/yRsz0J/5iLMyRAAAAABJRU5ErkJggg==",className:"logout-close",onClick:function(e){e.preventDefault(),t(!1)}})}),Object(f.jsx)("span",{className:"userImage",children:Object(f.jsx)("img",{src:K,className:"imageBorder",alt:"usericon"})}),Object(f.jsxs)("div",{className:"accountName",children:[Object(f.jsx)("h2",{className:"userName",children:r}),Object(f.jsx)("h5",{className:"userEmail",children:s})]}),Object(f.jsx)("div",{className:"userLogout",children:Object(f.jsx)("button",{type:"button",className:"singoutButton",onClick:function(){n(null),t(!1),c.push("/"),console.log(a)},children:"Sign Out"})})]})})},V=a.p+"static/media/lock.ee33ee4f.svg",X=(a(105),function(e){var t=e.userList,a=e.channelData,n=e.refChannelListModal,s=e.setOpenChannelListMembers,r=e.setUserDetails,c=e.userDetails,i=e.setHeaderBarSearch,o=e.setOpenUserDataModal,l=e.setOpenUserListModal,u=e.channelListSearch,d=e.setChannelListSearch,h=a.channel_members,j=[];h.forEach((function(e){return j=[].concat(Object(x.a)(j),[e.user_id])}));var b=t.filter((function(e){return j.includes(e.id)}));return Object(f.jsx)("div",{ref:n,className:"modal-bg",children:Object(f.jsxs)("div",{className:"modal-main",children:[Object(f.jsxs)("div",{className:"modal-header",children:[Object(f.jsxs)("div",{className:"modal-title",children:[Object(f.jsx)("img",{src:V,className:"modal-logo",alt:"lock"}),Object(f.jsx)("h2",{className:"modal-channel",children:a.name})]}),Object(f.jsx)("div",{onClick:function(e){return s(!1)},className:"modal-close",children:Object(f.jsx)("span",{children:"+"})})]}),Object(f.jsxs)("div",{className:"modal-body",children:[Object(f.jsxs)("div",{className:"search-container",children:[Object(f.jsx)("i",{className:"fa fa-search searchIcon"}),Object(f.jsx)("input",{onChange:function(e){return d(e.target.value)},type:"search",placeholder:"Find members..",className:"search",name:"search"})]}),Object(f.jsx)("div",{className:"member-list",children:0!==b.length&&b.filter((function(e){return e.uid.toLowerCase().includes(u.toLowerCase())})).map((function(e){return Object(f.jsx)(B,{id:e.id,uid:e.uid,setOpenUserDataModal:o,setHeaderBarSearch:i,setOpenUserListModal:l,userDetails:c,setUserDetails:r,setOpenChannelListMembers:s,setChannelListSearch:d},e.id)}))})]})]})})});a(106),a(107);var Y=function(e){var t=e.id,a=e.uid,n=e.setUserContainer,s=e.userContainer,r=e.setMessageSearchResult,c=e.setOutcome,i=e.setFeedback,o=e.setToast,l=a.split("@")[0];return Object(f.jsx)("div",{className:"result-container-wrapper",onClick:function(e){return function(e){var t=Object(x.a)(s);e.preventDefault();var a=0;0!==t.length&&t.forEach((function(t){console.log("match!"),t.id===e.target.dataset.id&&t.uid===e.target.dataset.uid&&(console.log("Match"),a+=1)})),0===a?(n([].concat(Object(x.a)(t),[{id:e.target.dataset.id,uid:e.target.dataset.uid}])),r("")):(r(""),o(!0),i(["Duplicate entry found"]),setTimeout((function(){return o(!1)}),3e3),c("error"))}(e)},"data-id":t,"data-uid":a,children:Object(f.jsx)("p",{children:l})})};a(108);var z=function(e){e.id;var t=e.uid,a=e.setUserContainer,n=e.index,s=e.userContainer,r=t.split("@")[0];return Object(f.jsxs)("div",{className:"result-container",children:[Object(f.jsx)("p",{children:r}),Object(f.jsx)("div",{className:"close-button","data-index":n,onClick:function(e){return function(e){e.preventDefault();var t=Object(x.a)(s);console.log(e.target.dataset.index),t.splice(e.target.dataset.index,1),a(t)}(e)}})]})};var $=function(e){var t,a=e.userList,s=e.setOpenMessageModal,r=e.setUserData,c=e.setMode,i=e.setUserMessageList,o=e.userMessageList,l=e.userData,u=e.setMessageSearchResult,h=e.messageSearchResult,j=e.userContainer,b=e.setUserContainer,m=e.header,v=e.setToast,g=e.setFeedback,M=e.setOutcome,N=Object(p.f)(),L=Object(n.useRef)(),S=O().postCreateDirectMessagetoUser,w=Object(n.useRef)(),D=Object(n.useState)(!1),U=Object(C.a)(D,2),k=U[0],y=U[1];return t=w,Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&(s(!1),b([]),u(""))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]),Object(n.useEffect)((function(){0!==h.length?y(!0):y(!1)}),[h]),Object(f.jsx)("div",{className:"createMessage-container-wrapper",children:Object(f.jsxs)("div",{ref:w,className:"createMessage-container",children:[Object(f.jsxs)("div",{className:"createMessage-Header",children:[Object(f.jsx)("p",{className:"title",children:"Send a Message"}),Object(f.jsx)("div",{className:"close-container",onClick:function(){return s(!1)}})]}),Object(f.jsx)("input",{value:h,placeholder:"Search User",onChange:function(e){return u(e.target.value)},type:"text",className:"searchResults"}),k&&Object(f.jsx)("div",{className:"ResultContainer",children:0!==a.length&&0!==h.length&&a.filter((function(e){return e.uid.toLowerCase().includes(h.toLowerCase())})).map((function(e,t){var a=e.id,n=e.uid;return Object(f.jsx)(Y,{id:a,uid:n,setUserContainer:b,setMessageSearchResult:u,userContainer:j,setToast:v,setFeedback:g,setOutcome:M},t)}))}),Object(f.jsx)("div",{className:"listOfUsers",children:0!==j.length&&j.map((function(e,t){var a=e.id,n=e.uid;return Object(f.jsx)(z,{id:a,uid:n,index:t,userContainer:j,setUserContainer:b},t)}))}),Object(f.jsx)("input",{ref:L,type:"text",className:"messageBody",placeholder:"Say Something Stupid"}),Object(f.jsx)("button",{className:"buttonSubmit",onClick:function(e){return function(e){e.preventDefault();var t=[],a=Object(x.a)(o);if(console.log(a),0!==L.current.value.length&&L.current.value){if(0!==j.length){j.forEach((function(e){var n=e.id,s=e.uid,r={receiver_id:e.id,receiver_class:"User",body:L.current.value},c=0;a.forEach((function(t){console.log(t.id),console.log(e.id),t.id.toString()!==e.id&&t.uid.toString()!==e.uid||(console.log("Found one match"),c+=1,console.log(c))})),0!==c?(console.log("Matchss!!"),S(m,r)):(console.log("No match"),t=[].concat(Object(x.a)(t),[{id:n,uid:s}]),S(m,r))}));var n=[].concat(Object(x.a)(o),Object(x.a)(t));return i(n),r(Object(d.a)(Object(d.a)({},l),{},{id:j[0].id,uid:j[0].uid,receiver_class:"User"})),c("User"),s(!1),b([]),u(""),v(!0),g(["Message Sent"]),M("success"),setTimeout((function(){return v(!1)}),3e3),N.push("/main/messaging/User/".concat(j[0].id))}v(!0),g(["No User/s selected"]),M("error"),setTimeout((function(){return v(!1)}),3e3)}else console.log("Error!!!!!!!!!!!!!!!!!!!!!!!!!!"),v(!0),g(["Message Body is empty"]),M("error"),setTimeout((function(){return v(!1)}),3e3)}(e)},children:"Send Message"})]})})};var ee=function(e){var t,a=e.header,s=e.setHeader,r=e.userList,c=e.setUserList,i=e.channelList,l=e.setChannelList,h=e.openUserListModal,j=e.setOpenUserListModal,b=e.headerBarSearch,m=e.setHeaderBarSearch,v=e.openUserDataModal,g=e.setOpenUserDataModal,C=e.userDetails,M=e.setUserDetails,N=e.openChannelListModal,w=e.setOpenChannelListModal,D=e.channelData,U=e.setChannelData,k=e.mode,y=e.createMessageContainer,A=e.setMode,T=e.setCreateMessageContainer,R=e.message,B=e.setMessage,H=e.redirectToChannel,G=e.setRedirectToChannel,W=e.userMessageList,q=e.setUserMessageList,J=e.userData,K=e.setUserData,V=e.openNewChannelModal,Y=e.setOpenNewChannelModal,z=e.openNewChannelLists,ee=e.setOpenNewChannelLists,te=e.openLogoutModal,ae=e.setOpenLogoutModal,ne=e.newChannelListSearch,se=e.setNewChannelListSearch,re=e.setToast,ce=e.setFeedback,ie=e.setOutcome,oe=e.openChannelListMembers,le=e.setOpenChannelListMembers,ue=e.channelListSearch,de=e.setChannelListSearch,he=e.openMessageModal,je=e.setOpenMessageModal,be=e.messageSearchResult,me=e.setMessageSearchResult,Oe=e.userContainer,pe=e.setUserContainer,fe=O(),ve=fe.getAllUsersMain,ge=fe.getRetrieveAllChannels,xe=fe.getRetrieveAllMessagesFromUser,Ce=Object(n.useRef)(null),Me=Object(n.useRef)(null),Ne=Object(n.useRef)(null),Le=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ve(t);case 2:a=e.sent,n=[],a?(a.data.data.map((function(e){return n=[].concat(Object(x.a)(n),[{id:e.id,uid:e.uid,receiver_class:"User"}])})),n.sort((function(e,t){return e.id-t.id||e.uid.localeCompare(t.uid)})),c(n)):console.log("array emptyy");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ve,c]),Se=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t){var a,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ge(t).catch((function(e){return console.log(e.response)}));case 2:a=e.sent,n=[],a.data.hasOwnProperty("errors")?(re(!0),ce([a.data.errors]),ie("error"),setTimeout((function(){return re(!1)}),3e3)):a&&0!==(null===a||void 0===a?void 0:a.data.length)?(a.data.data.map((function(e){return n=[].concat(Object(x.a)(n),[{channelId:e.id,owner:e.owner_id,name:e.name,receiver_class:"C"}])})),n.sort((function(e,t){return e.id-t.id||e.name.localeCompare(t.name)})),l(n)):console.log("Array Empty");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),[ge,l,z]),we=Object(n.useCallback)(function(){var e=Object(u.a)(o.a.mark((function e(t,a){var n,s,r,c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[],!a){e.next=13;break}s=a.length-1;case 3:if(!(s>900)){e.next=12;break}return e.next=6,xe(t,a[s].id);case 6:r=e.sent,0!==r.data.data.length&&(c={uid:a[s].uid,id:a[s].id},n=[].concat(Object(x.a)(n),[c]));case 9:s--,e.next=3;break;case 12:q(n);case 13:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),[xe,q]);return t=Me,Object(n.useEffect)((function(){var e=function(e){t.current&&!t.current.contains(e.target)&&(g(!1),M(Object(d.a)(Object(d.a)({},C),{},{name:"",id:"",uid:""})),w(!1),G(!0))};return document.addEventListener("mousedown",e),function(){return document.removeEventListener("mousedown",e)}}),[t]),function(e){Object(n.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&(g(!1),M(Object(d.a)(Object(d.a)({},C),{},{name:"",id:"",uid:""})))};return document.addEventListener("mousedown",t),function(){return document.removeEventListener("mousedown",t)}}),[e])}(Ce),function(e){Object(n.useEffect)((function(){var t=function(t){e.current&&!e.current.contains(t.target)&&le(!1)};return document.addEventListener("mousedown",t),function(){return document.removeEventListener("mousedown",t)}}),[e])}(Ne),Object(n.useEffect)((function(){Object.values(a).every((function(e){return""!==e}))&&Le(a)}),[a]),Object(n.useEffect)((function(){Object.values(a).every((function(e){return""!==e}))&&we(a,r)}),[r]),Object(n.useEffect)((function(){Object.values(a).every((function(e){return""!==e}))&&Se(a)}),[a,ee]),Object(n.useEffect)((function(){0!==b.length?j(!0):j(!1)}),[b]),Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"Main-DashBoard",children:[Object(f.jsx)("div",{className:"sidebarHolder",children:Object(f.jsx)(L,{setCreateMessageContainer:T,redirectToChannel:H,channelList:i,channelData:D,setChannelData:U,setMode:A,header:a,userMessageList:W,setUserData:K,userData:J,setUserMessageList:q,openNewChannelModal:V,setOpenNewChannelModal:Y,headerBarSearch:b,setOpenMessageModal:je})}),Object(f.jsx)("div",{className:"headerbarHolder",children:Object(f.jsx)(S,{headerBarSearch:b,setOpenUserListModal:j,setHeaderBarSearch:m,setOpenChannelListMembers:le,openLogoutModal:te,setOpenLogoutModal:ae})}),Object(f.jsx)("div",{className:"MainBodyHolder",children:Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{path:"/main/home",children:Object(f.jsx)(P,{header:a})}),Object(f.jsx)(p.a,{path:"/main/messaging",children:Object(f.jsx)(E,{mode:k,createMessageContainer:y,setMode:A,setCreateMessageContainer:T,channelData:D,header:a,message:R,setMessage:B,userData:J,setOpenChannelListMembers:le,userList:r})})]})})]}),h&&Object(f.jsx)(F,{userList:r,headerBarSearch:b,setOpenUserListModal:j,setHeaderBarSearch:m,setOpenUserDataModal:g,setUserDetails:M,userDetails:C,setOpenChannelListMembers:le,setChannelListSearch:de}),v&&Object(f.jsx)(I,{refModalData:Ce,userDetails:C,setOpenUserDataModal:g,setOpenChannelListModal:w,setRedirectToChannel:G,userData:J,setUserData:K,setMode:A,userMessageList:W,setUserMessageList:q}),N&&Object(f.jsx)(_,{channelList:i,setChannelData:U,userDetails:C,channelData:D,header:a,setOpenChannelListModal:w,refChannelModalSelectionData:Me,setRedirectToChannel:G,setToast:re,setFeedback:ce,setOutcome:ie}),V&&Object(f.jsx)(Z,{openNewChannelModal:V,setOpenNewChannelModal:Y,header:a,openNewChannelLists:z,setOpenNewChannelLists:ee,userList:r,newChannelListSearch:ne,setNewChannelListSearch:se,setToast:re,setFeedback:ce,setOutcome:ie,setChannelList:l}),te&&Object(f.jsx)(Q,{openLogoutModal:te,setOpenLogoutModal:ae,header:a,setHeader:s}),oe&&Object(f.jsx)(X,{userList:r,channelData:D,refChannelListModal:Ne,setOpenChannelListMembers:le,setOpenUserDataModal:g,setHeaderBarSearch:m,setOpenUserListModal:j,userDetails:C,setUserDetails:M,channelListSearch:ue,setChannelListSearch:de}),he&&Object(f.jsx)($,{setOpenMessageModal:je,userList:r,setMode:A,setUserData:K,userData:J,setUserMessageList:q,userMessageList:W,messageSearchResult:be,setMessageSearchResult:me,userContainer:Oe,setUserContainer:pe,header:a,setToast:re,setOutcome:ie,setFeedback:ce})]})};a(109);var te=function(e){e.toast;var t=e.setToast,a=e.setOutcome,s=e.setFeedback,r=Object(n.useRef)(),c=Object(n.useRef)(),i=Object(n.useState)("disabled"),o=Object(C.a)(i,2),l=o[0],u=o[1],d=Object(n.useRef)(),h=O().postUserRegistration,j=Object(n.useState)(!1),b=Object(C.a)(j,2),m=b[0],v=b[1],g=Object(n.useState)(!0),x=Object(C.a)(g,2),M=x[0],N=x[1],L=Object(p.f)();Object(n.useEffect)((function(){!0===m?(N(!1),u("active")):(N(!0),u("disabled")),N(!m)}),[m]);var S=function(e){e.preventDefault();var n={email:r.current.value,password:c.current.value,password_confirmation:d.current.value};h(n).then((function(){return a("success"),t(!0),setTimeout((function(){return t(!1)}),3e3),s(["Sign-up Successful"]),L.push("/")})).catch((function(e){var n=e.response.data.errors.full_messages;a("error"),t(!0),setTimeout((function(){return t(!1)}),3e3),s(n)}))};return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsxs)("div",{className:"signUpMain",children:[Object(f.jsx)("div",{className:"SVG-Photo"}),Object(f.jsx)("div",{className:"Main-Signup",children:Object(f.jsx)("div",{className:"Main-Signup-Form",children:Object(f.jsxs)("form",{onSubmit:function(e){return S(e)},children:[Object(f.jsx)("h1",{children:"Sign Up to Slack API"}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Email"}),Object(f.jsx)("input",{type:"email",ref:r,placeholder:"Enter Email Here",required:!0})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Password"}),Object(f.jsx)("input",{type:"password",ref:c,placeholder:"Enter Password Here",required:!0})]}),Object(f.jsxs)("div",{children:[Object(f.jsx)("label",{children:"Confirm Password"}),Object(f.jsx)("input",{type:"password",ref:d,placeholder:"Enter Password",required:!0})]}),Object(f.jsxs)("div",{className:"CheckBox",children:[Object(f.jsx)("input",{type:"checkbox",id:"checkbox",name:"vehicle1",defaultChecked:m,onChange:function(){return v(!m)},required:!0}),Object(f.jsxs)("label",{children:["Creating an account means you\u2019re okay with our ",Object(f.jsx)("span",{id:"anchor",children:"Terms of Service, Privacy Policy,"})," and our ",Object(f.jsx)("span",{id:"anchor",children:"default Notification Settings"})]})]}),Object(f.jsx)("button",{disabled:M,className:"".concat(l,"-button"),onSubmit:function(e){return S(e)},children:"Sign Up"})]})})})]}),Object(f.jsxs)("div",{className:"ForwardSignIn",children:[Object(f.jsx)("p",{children:"Already a Member?"}),Object(f.jsx)("button",{onClick:function(){return L.push("/")},children:"Sign In"})]})]})};a(110),a(111);var ae=function(e){var t=e.outcome,a=e.message,n=e.index,s=e.feedback,r=e.setFeedback;return Object(f.jsxs)("div",{className:"".concat(t,"-toast-main"),children:[Object(f.jsxs)("div",{className:"".concat(t,"-message-container"),children:[Object(f.jsx)("div",{className:"".concat(t,"-svg-container"),children:Object(f.jsx)("div",{className:"".concat(t,"-svg")})}),Object(f.jsx)("p",{className:"".concat(t,"-msg"),children:a})]}),Object(f.jsx)("div",{onClick:function(e){return function(e){var t=Object(x.a)(s);t.splice(e.target.dataset.index,1),r(t)}(e)},className:"close-message","data-index":n})]})};var ne=function(e){var t=e.outcome,a=e.feedback,n=e.setFeedback;return Object(f.jsx)("div",{className:"errorhandlingcontainer",children:0!==(null===a||void 0===a?void 0:a.length)&&a.map((function(e,s){return Object(f.jsx)(ae,{index:s,outcome:t,message:e,feedback:a,setFeedback:n},s)}))})};var se=function(){var e=J(),t=e.header,a=e.userList,n=e.userMessageList,s=e.channelList,r=e.openUserListModal,c=e.headerBarSearch,i=e.openUserDataModal,o=e.userDetails,l=e.openChannelListModal,u=e.channelData,d=e.userData,h=e.openLogoutModal,j=e.mode,b=e.createMessageContainer,m=e.message,O=e.openNewChannelModal,v=e.openNewChannelLists,x=e.toast,C=e.feedback,M=e.outcome,N=e.openChannelListMembers,L=e.channelListSearch,S=e.openMessageModal,w=e.messageSearchResult,D=e.userContainer,U=e.setHeader,k=e.setUserList,y=e.setChannelList,A=e.setOpenUserListModal,T=e.setHeaderBarSearch,R=e.setOpenUserDataModal,E=e.setUserDetails,B=e.setOpenChannelListModal,F=e.setOpenLogoutModal,I=e.setChannelData,_=e.setCreateMessageContainer,H=e.setMode,P=e.setMessage,G=e.redirectToChannel,W=e.setRedirectToChannel,q=e.setUserMessageList,Z=e.setUserData,K=e.setOpenNewChannelLists,Q=e.newChannelListSearch,V=e.setNewChannelListSearch,X=e.setOpenNewChannelModal,Y=e.setToast,z=e.setFeedback,$=e.setOutcome,ae=e.setOpenChannelListMembers,se=e.setChannelListSearch,re=e.setOpenMessageModal,ce=e.setMessageSearchResult,ie=e.setUserContainer;return Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:"App",children:Object(f.jsxs)(p.c,{children:[Object(f.jsx)(p.a,{exact:!0,path:"/",children:Object(f.jsx)(g,{header:t,setHeader:U,setToast:Y,setFeedback:z,setOutcome:$,toast:x})}),Object(f.jsx)(p.a,{path:"/signup",children:Object(f.jsx)(te,{setToast:Y,setOutcome:$,toast:x,setFeedback:z})}),Object(f.jsx)(p.a,{path:"/main",children:Object(f.jsx)(ee,{header:t,setHeader:U,userList:a,setUserList:k,channelList:s,setChannelList:y,openUserListModal:r,setOpenUserListModal:A,setOpenLogoutModal:F,openLogoutModal:h,headerBarSearch:c,setHeaderBarSearch:T,setOpenUserDataModal:R,openUserDataModal:i,userDetails:o,setUserDetails:E,openChannelListModal:l,setOpenChannelListModal:B,channelData:u,setChannelData:I,mode:j,createMessageContainer:b,setCreateMessageContainer:_,setMode:H,message:m,setMessage:P,redirectToChannel:G,setRedirectToChannel:W,userMessageList:n,setUserMessageList:q,setUserData:Z,userData:d,openNewChannelModal:O,setOpenNewChannelModal:X,openNewChannelLists:v,setOpenNewChannelLists:K,newChannelListSearch:Q,setNewChannelListSearch:V,setToast:Y,setFeedback:z,setOutcome:$,openChannelListMembers:N,setOpenChannelListMembers:ae,channelListSearch:L,setChannelListSearch:se,openMessageModal:S,setOpenMessageModal:re,messageSearchResult:w,setMessageSearchResult:ce,userContainer:D,setUserContainer:ie})})]})}),x&&Object(f.jsx)(ne,{feedback:C,outcome:M,setFeedback:z})]})},re=a(14);c.a.render(Object(f.jsx)(s.a.StrictMode,{children:Object(f.jsx)(re.a,{children:Object(f.jsx)(se,{})})}),document.getElementById("root"))}]),[[112,1,2]]]);
//# sourceMappingURL=main.e93f060f.chunk.js.map